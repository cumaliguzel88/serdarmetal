---
import Button from '../ui/Button.astro';
import Container from '../ui/Container.astro';
import logoImage from '../../../assets/serdarmetallogo.png';

interface Props {
  t: <T = string>(key: string) => T;
  lang: 'tr' | 'en';
  whatsappHref: string;
}

const { t, lang, whatsappHref } = Astro.props;
const trHref = lang === 'en' ? '../' : './';
const enHref = lang === 'en' ? './' : 'en/';
---

<header class="sticky top-0 z-50 border-b border-slate-200/70 bg-white/88 backdrop-blur-xl shadow-[0_8px_22px_rgba(15,23,42,0.06)]">
  <Container>
    <div class="flex min-h-[5.25rem] items-center justify-between gap-2 sm:min-h-[6.25rem] sm:gap-3 lg:min-h-[7rem] lg:gap-4">
      <a href="#hero" class="inline-flex items-center gap-2 sm:gap-3" aria-label={t('site.name')}>
        <img
          src={logoImage.src}
          alt={t('site.name')}
          class="h-12 w-auto max-w-[140px] object-contain sm:h-14 sm:max-w-[180px] lg:h-[4.25rem] lg:max-w-[220px]"
          loading="eager"
        />
        <span class="hidden font-display text-sm font-bold uppercase tracking-[0.2em] text-slate-900 lg:inline">{t('header.logo')}</span>
      </a>

      <nav class="hidden items-center gap-6 md:flex" aria-label={t('header.navAria')}>
        <a href="#hizmetler" class="text-sm font-medium text-slate-700 transition hover:text-[var(--color-accent)]">{t('header.nav.services')}</a>
        <a href="#hakkimizda" class="text-sm font-medium text-slate-700 transition hover:text-[var(--color-accent)]">{t('header.nav.about')}</a>
        <a href="#iletisim" class="text-sm font-medium text-slate-700 transition hover:text-[var(--color-accent)]">{t('header.nav.contact')}</a>
      </nav>

      <div class="flex items-center gap-2 sm:gap-3">
        <div class="inline-flex rounded-full border border-slate-300 p-1">
          <a
            href={trHref}
            data-lang-switch="tr"
            class:list={[
              'rounded-full px-3 py-1 text-xs font-semibold transition',
              lang === 'tr' ? 'bg-slate-900 text-white' : 'text-slate-600 hover:text-slate-900'
            ]}
            aria-label={`${t('header.langLabel')} ${t('header.langTr')}`}
          >
            {t('header.langTr')}
          </a>
          <a
            href={enHref}
            data-lang-switch="en"
            class:list={[
              'rounded-full px-3 py-1 text-xs font-semibold transition',
              lang === 'en' ? 'bg-slate-900 text-white' : 'text-slate-600 hover:text-slate-900'
            ]}
            aria-label={`${t('header.langLabel')} ${t('header.langEn')}`}
          >
            {t('header.langEn')}
          </a>
        </div>

        <Button href={whatsappHref} variant="whatsapp" ariaLabel={t('contact.labels.whatsapp')} class="inline-flex px-3 sm:px-5">
          <span class="sm:hidden">{t('header.ctaShort')}</span>
          <span class="hidden sm:inline">{t('header.cta')}</span>
        </Button>
      </div>
    </div>
  </Container>
</header>
